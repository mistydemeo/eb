This is Info file ebrefile.info, produced by Makeinfo version 1.68 from
the input file ebrefile.texi.

INFO-DIR-SECTION CD-ROM Book Utilities
START-INFO-DIR-ENTRY
* ebrefile: (ebrefile).         Refile a catalog file in a CD-ROM book.
END-INFO-DIR-ENTRY

   ebrefile: Refile a catalog file in a CD-ROM book, by Motoyuki
Kasahara.

   Copyright (C) 1998, 1999  Motoyuki Kasahara

   Permission is granted to make and distribute verbatim copies of this
manual provided the copyright notice and this permission notice are
preserved on all copies.

   Permission is granted to copy and distribute modified versions of
this manual under the conditions for verbatim copying, provided that
the entire resulting derived work is distributed under the terms of a
permission notice identical to this one.

   Permission is granted to copy and distribute translations of this
manual into another language, under the above conditions for modified
versions, except that this permission notice may be stated in a
translation approved by Free Software Foundation, Inc.


File: ebrefile.info,  Node: Top,  Next: Introduction,  Prev: (dir),  Up: (dir)

   This is edition 2.3beta2, for EB Library version 2.3beta2.

* Menu:

* Introduction::                Introduction.
* Invoking ebrefile::           Invoking `ebrefile'.
* Summary of Options::          Summary of Options to `ebrefile'.

 -- The Detailed Node Listing --

Invoking `ebrefile'

* Select Subbooks::             Select Subbooks.
* Adjust Filename::             Adjust Filename.
* Combination with ebzip::      Combination with `ebzip'.


File: ebrefile.info,  Node: Introduction,  Next: Invoking ebrefile,  Prev: Top,  Up: Top

Introduction
************

   A CD-ROM book usually has some "subbooks".  For example, a certain
CD-ROM book has three subbooks; Japanese dictionary, Japense English
dictinary and English Japanese dictionary.  Each subbook itself is an
independent "book".

                 (CD-ROM book)
     +-----------------------------------+
     |  [English Dicctionary] (subbook)  |
     |  [Japanese Dicctionary](subbook)  |
     |  [Encyclopedia]        (subbook)  |
     +-----------------------------------+

   A CD-ROM book of EB/EBG/EBXA/EBXA-C format has a file `CATALOG', and
a CD-ROM book of EPWING format has a file `CATALOGS'.  The files define
what subbooks the CD-ROM book has.  They are resides at the top
directory of the CD-ROM book.

   `ebrefile' reads an original catalog file and builds a new catalog
file which defines the subbooks only specified by an user.  In other
words, `ebrefile' can deletes particular subbook definitions from a
catalog file.  If a CD-ROM book has three subbooks, `ebrefile' can
imports any one or two subbooks to the new catalog file.  The
`ebrefile' command is useful when you want to copy only a part of a
CD-ROM book to a hard disk.  `ebrefile' is a part of EB Library
distribution.

   `ebrefile' is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2, or (at your option) any
later version.

   `ebrefile' is distributed in the hope that it will be useful, but
*without any warranty*; without even the implied warranty of
merchantability or fitness for a particular purpose.  See the GNU
General Public License for more details.

   In addition, you must follow the licenses of your CD-ROM books.
Though `ebzip' is free software, your books may not be free.
`ebrefile' modifies contents of a certain file in a CD-ROM book.
Please be careful.

   This is edition 2.3beta2, for EB Library version 2.3beta2.


File: ebrefile.info,  Node: Invoking ebrefile,  Next: Summary of Options,  Prev: Introduction,  Up: Top

Invoking `ebrefile'
*******************

   Its usual way to invoke `ebrefile' is as follows:

     % ebrefile BOOK-PATH

BOOK-PATH points to the top directory of a CD-ROM book where the file
`CATALOG' or `CATALOGS' resides.  Though you cannot specify two or more
book-paths, you can omit book-path like as follows:

     % ebrefile

In this case, `ebrefile' assumes that the current working directory
(`.') is specified.

* Menu:

* Select Subbooks::             Select Subbooks.
* Adjust Filename::             Adjust Filename.
* Combination with ebzip::      Combination with `ebzip'.


File: ebrefile.info,  Node: Select Subbooks,  Next: Adjust Filename,  Prev: Invoking ebrefile,  Up: Invoking ebrefile

Select Subbooks
===============

   By default, `ebrefile' imports all subbook definitions in an original
catalog file to a new catalog file.  In short, the new catalog file is
simply copied from an original.  The default behavoir is useless.
`ebrefile' is usually invoked with `--subbook' (`-S') option.

   The `--subbook' option takes an argument which is a list of
directory names of subbooks to be imported, separeted by a comma (`,').
The `ebinfo' command tells you what subbooks your book contains and
what their directory names are.  Suppose that the current working
directory is a top directory of a CD-ROM book.

     % ebinfo
     disc type: EB/EBG/EBXA/EBXA-C
     character code: JIS X 0208
     the number of subbooks: 3
     
     subbook 1:
       title: New English Japanese Dictionary (4th edition)
       directory: ENGLISH
       search methods: word endword keyword menu
       font sizes: 16 24 30 48
       narrow font characters: 0xa121 -- 0xa24e
       wide font characters: 0xa321 -- 0xa27e
     subbook 2:
       title: CD-ROM French Japanese Dictionary (3rd edition)
       directory: FRENCH
       search methods: word endword keyword menu
       font sizes: 16 24 30 48
       narrow font characters:
       wide font characters: 0xa321 -- 0xa27e
     subbook 3:
       title: Pocket German Japanese Dictionary (3rd edition)
       directory: GERMAN
       search methods: menu
       font sizes: 16 24 30 48
       narrow font characters:
       wide font characters: 0xa321 -- 0xa27e

(*Note Invoking `ebinfo': (ebinfo)Invoking ebinfo, for more details
about the `ebinfo' command).
In this example, there are three subbooks in the book, and their
directory names are `ENGLISH', `FRENCH' and `GERMAN'.

   Invoking the following command, `ebrefile' build a new catalog file
which has definitions of `ENGLISH' and `FRENCH' only.

     % ebrefile --subbook english,french

Case of the directory names are not sensitve.  An argument to
`--subbook' can be splitted like as follows:

     % ebrefile --subbook english --subbook french

Since `ebrefile' cannot change an order of subbook definitions, an
order of arguments to `--subbook' is not matter.

   The original `CATALOG(S)' file is moved to `CATALOG(S).bak', and a
new file is put as `CATALOG(S)'.  It means that the top directory of
the CD-ROM book must be writable.  In other words, at least
`CATALOG(S)' of the CD-ROM book must have already been copied to a hard
disk before invoking `ebrefile'.  (However, this rule is not applied
when the `--output-directory' option is used.  *Note
`--output-directory': Summary of Options, for more details about the
`--output-directory' option).

   Invoke `ebinfo' again.  The subbook `GERMGAN' is diappeared.

     % ebinfo
     disc type: EB/EBG/EBXA/EBXA-C
     character code: JIS X 0208
     the number of subbooks: 2
     
     subbook 1:
       title: New English Japanese Dictionary (4th edition)
       directory: ENGLISH
       search methods: word endword keyword menu
       font sizes: 16 24 30 48
       narrow font characters: 0xa121 -- 0xa24e
       wide font characters: 0xa321 -- 0xa27e
     subbook 2:
       title: CD-ROM French Japanese Dictionary (3rd edition)
       directory: FRENCH
       search methods: word endword keyword menu
       font sizes: 16 24 30 48
       narrow font characters:
       wide font characters: 0xa321 -- 0xa27e

   If you have already copied whole the CD-ROM book onto a hard disk,
you may remove files of the subbook `GERMAN'.  When the directory name
consists of upper case letters, type:

     % rm -r GERMAN

When the directory name consists of lower case letters, type:

     % rm -r german


File: ebrefile.info,  Node: Adjust Filename,  Next: Combination with ebzip,  Prev: Select Subbooks,  Up: Invoking ebrefile

Adjust Filename
===============

   `ebrefile' keeps "case" (upper or lower) and "suffix" of the
original catalog file.  When the catalog filename is `catalogs;1' (case
is lower, and suffix is `;1'), `ebrefile' puts a new catalog file as
`catalogs;1', and backup the original catalog file as `catalogs.bak;1'.

   The following table displayes how a filename of `CATALOG(S)' file
changes.

case/suffix                   original file          backup file            
lower/none                    catalog                catalog.bak            
lower/dot                     catalog.               catalog.bak            
lower/version                 catalog;1              catalog.bak;1          
lower/dot+version             catalog.;1             catalog.bak;1          
upper/none                    CATALOG                CATALOG.BAK            
upper/dot                     CATALOG.               CATALOG.BAK            
upper/version                 CATALOG;1              CATALOG.BAK;1          
upper/dot+version             CATALOG.;1             CATALOG.BAK;1          

   The `--case' and `--suffix' options allows you to modify these case
and suffix styles of new catalog file and backup file.  The `--case'
option takes an argument, and it must be `upper' or `lower'.  The
option sets the case of the filename `CATALOG(S)' and `CATALOG(S).BAK'
to upper or lower.  Also the `--suffix' option takes an argument, and
it must be `none', `dot', `version' or `both'.  The option sets the
suffix style of the filename `CATALOG(S)' and `CATALOG(S).BAK' to none,
dot, version or both (dot+version).


File: ebrefile.info,  Node: Combination with ebzip,  Prev: Adjust Filename,  Up: Invoking ebrefile

Combination with `ebzip'
========================

   `ebrefile' can be used together with the `ebzip' command, which
compresses files in a CD-ROM book (*Note Introduction:
(ebzip)Introduction, for more details about the `ebzip' command).
Usually, the same command line arguments are given to `ebzip' and
`ebrefile'.

   Suppose that a CD-ROM book is mounted on `/cdrom', and this book has
three subbooks; `ENGLISH', `FRENCH' and `GERMAN'.  By the following
operation, the subbook `ENGLISH' and `FRENCH' are compressed and put
under the current working directory, and the subbook `GERMAN' are
deleted from a subbook list.

     % ebzip --subbook english,french /cdrom
     % ebrefile --subbook english,french /cdrom

If you'd like to put the compressed files onto `/dict' instead of the
current working directory, type the following:

     % ebzip --output-directory /dict --subbook english,french /cdrom
     % ebrefile --output-directory /dict --subbook english,french /cdrom

Case and suffix of filenames are adjusted by the `--case' and
`--suffix' options.

     % ebzip --case lower --suffix none --subbook english,french /cdrom
     % ebrefile --case lower --suffix none --subbook english,french /cdrom


File: ebrefile.info,  Node: Summary of Options,  Prev: Invoking ebrefile,  Up: Top

Summary of `ebrefile' Options
*****************************

   The `ebrefile' command supports both traditional single-letter
options and mnemonic long option names.  Long option names are
indicated with `--' instead of `-'.  Abbreviations for option names are
allowed as long as they are unique.

`-c CASE'
`--case CASE'
     Output a catalog file which have filenames with upper or lower CASE
     letters.  CASE must be `upper' or `lower'.  When this option is
     not specified, the case of the new catalog filename comes to be
     the same as a filename of orignal catalog file.  (*Note Adjust
     Filename::, for more details).

`-h'
`--help'
     Output help message to standard out, then exit.

`-o DIRECTORY'
`--output-directory DIRECTORY'
     Output a new catalog file under DIRECTORY.  By default, `ebrefile'
     generates a new catalog file under the current working directory
     (`.').  (*Note Invoking ebrefile::, for more details).

`-s SUFFIX'
`--suffix SUFFIX'
     Specify the suffix of filename of new catalog file.  SUFFIX must
     be `none', `dot', `version' or `both'.  When SUFFIX is `none', no
     suffix is appended.  When SUFFIX is `dot', a dot (`.') is appended.
     When SUFFIX is `version', a version number 1 (`;1') is appended.
     When SUFFIX is `both', dot and version number 1 (`.;1') is
     appended.  If this option is not specified, the suffix of the new
     catalog filename comes to be the same as a filename of original
     catalog file.  (*Note Adjust Filename::, for more details).

`-S SUBBOOKS'
`--subbook SUBBOOKS'
     Specify subbooks which `ebrefile' imports to a new catalog file.
     SUBBOOKS must be a list of directory names of subbooks separeted
     by a comma (`,').  By default, all subbooks are specified as
     target.  (*Note Select Subbooks::, for more details).

`-v'
`--version'
     Output version number to standard out, then exit.



Tag Table:
Node: Top1054
Node: Introduction1586
Node: Invoking ebrefile3645
Node: Select Subbooks4341
Node: Adjust Filename8139
Node: Combination with ebzip9873
Node: Summary of Options11185

End Tag Table
